package ${package.Controller};
import io.swagger.annotations.Api;
import io.swagger.annotations.ApiOperation;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.MediaType;
import ${package.Entity}.${entity};
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;


#if(${restControllerStyle})
#else
#end
#if(${superControllerClassPackage})
    ${superControllerClassPackage};

#end

/**
 * <p>
 * $!{table.comment} 前端控制器
 * </p>
 *
 * @author ${author}
 */
@Api(tags = {"${table.comment}"}, produces = "${table.comment}相关接口")
#if(${restControllerStyle})
@RestController
#else
@Controller
#end
@RequestMapping(value = "#if(${package.ModuleName})/${package.ModuleName}#end/#if(${controllerMappingHyphenStyle})${controllerMappingHyphen}#else${table.entityPath}#end", produces = MediaType.APPLICATION_JSON_VALUE)
#if(${superControllerClass})
@Validated
public class ${table.controllerName} extends ${superControllerClass} {
#else
public class ${table.controllerName} {
#end

        @Autowired
        private ${table.serviceName} ${table.entityPath}Service;

        /**
            * 查询分页数据
            */
        @ApiOperation(value = "查询分页数据")
        @RequestMapping(value = "/list", method = RequestMethod.GET)
        public Msg findListByPage(@RequestParam(name = "page", defaultValue = "1") Integer page,
                                    @RequestParam(name = "limit", defaultValue = "10") Integer limit,
                                    @RequestParam(name = "field", required = false) String field,
                                    @RequestParam(name = "order", required = false) String order,
                                    @RequestParam(name = "searchname", required = false) String searchname,
                                    @RequestParam(name = "Type", required = false) Integer Type){
            return  ${table.entityPath}Service.findListByPage(page, limit, field, order, searchname, Type);
        }


        /**
         * 根据id查询
         */
        @ApiOperation(value = "根据id查询数据")
        @RequestMapping(value = "/getById", method = RequestMethod.GET)
        public Msg getById(@RequestParam("pkid") String pkid){
            return  ${table.entityPath}Service.getById(pkid);
        }

        /**
         * 新增
         */
        @ApiOperation(value = "新增数据")
        @RequestMapping(value = "/add", method = RequestMethod.POST)
        public Msg add(@RequestBody ${entity} ${table.entityPath}){
            return  ${table.entityPath}Service.add(${table.entityPath});
        }

        /**
         * 删除
         */
        @ApiOperation(value = "删除数据")
        @RequestMapping(value = "/del" ,method = RequestMethod.DELETE)
        public Msg delete(@RequestParam("ids") List<String> ids){
            return  ${table.entityPath}Service.delete(ids);
        }

        /**
         * 修改
         */
        @ApiOperation(value = "更新数据")
        @RequestMapping(value = "/update", method = RequestMethod.PUT)
        public Msg update(@RequestBody ${entity}  ${table.entityPath}){
            return  ${table.entityPath}Service.update(${table.entityPath});
        }


}
